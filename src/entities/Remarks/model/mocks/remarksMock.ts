import { Remark, RemarkStatus, RemarkType, StudentRemarkSummary } from "../types/remarks";

// Мок-данные для демонстрации функционала замечаний

export const mockRemarks: Remark[] = [
  // Замечание 1: Текстовое замечание, ожидает ответа студента
  {
    id: "remark-1",
    course_id: "course-1",
    course_name: "Основы программирования",
    theme_id: "theme-1",
    theme_title: "Лабораторная работа №1: Введение в Python",
    student_id: 101,
    student_name: "Иванов Александр Петрович",
    student_avatar: "",
    student_group: "ИС-21-1",
    teacher_id: 1,
    teacher_name: "Петров Сергей Михайлович",
    teacher_avatar: "",
    type: RemarkType.TEXT,
    status: RemarkStatus.PENDING,
    messages: [
      {
        id: "msg-1-1",
        remark_id: "remark-1",
        sender_id: 1,
        sender_name: "Петров Сергей Михайлович",
        sender_avatar: "",
        sender_role: "teacher",
        message: "Добрый день! Вы забыли прикрепить документацию к лабораторной работе. Без неё работа не будет проверяться. Пожалуйста, добавьте описание алгоритма и блок-схему.",
        attachments: [],
        created_at: new Date("2024-12-20T10:30:00"),
      },
    ],
    created_at: new Date("2024-12-20T10:30:00"),
    updated_at: new Date("2024-12-20T10:30:00"),
  },

  // Замечание 2: К файлу, студент ответил
  {
    id: "remark-2",
    course_id: "course-1",
    course_name: "Основы программирования",
    theme_id: "theme-2",
    theme_title: "Лабораторная работа №2: Циклы и условия",
    student_id: 101,
    student_name: "Иванов Александр Петрович",
    student_avatar: "",
    student_group: "ИС-21-1",
    teacher_id: 1,
    teacher_name: "Петров Сергей Михайлович",
    teacher_avatar: "",
    type: RemarkType.FILE,
    status: RemarkStatus.RESPONDED,
    original_file: {
      id: "file-orig-1",
      file_name: "lab2_solution.py",
      file_url: "/files/lab2_solution.py",
      file_size: 4096,
      uploaded_at: new Date("2024-12-18T14:00:00"),
    },
    messages: [
      {
        id: "msg-2-1",
        remark_id: "remark-2",
        sender_id: 1,
        sender_name: "Петров Сергей Михайлович",
        sender_avatar: "",
        sender_role: "teacher",
        message: "В файле lab2_solution.py на строке 45 обнаружена ошибка: бесконечный цикл при вводе отрицательного числа. Необходимо добавить проверку входных данных.",
        attachments: [],
        created_at: new Date("2024-12-19T09:00:00"),
      },
      {
        id: "msg-2-2",
        remark_id: "remark-2",
        sender_id: 101,
        sender_name: "Иванов Александр Петрович",
        sender_avatar: "",
        sender_role: "student",
        message: "Здравствуйте! Исправил ошибку, добавил валидацию входных данных. Прикрепляю исправленный файл.",
        attachments: [
          {
            id: "attach-2-1",
            file_name: "lab2_solution_v2.py",
            file_url: "/files/lab2_solution_v2.py",
            file_size: 4352,
            uploaded_at: new Date("2024-12-19T15:30:00"),
          },
        ],
        created_at: new Date("2024-12-19T15:30:00"),
      },
    ],
    created_at: new Date("2024-12-19T09:00:00"),
    updated_at: new Date("2024-12-19T15:30:00"),
  },

  // Замечание 3: Отклонённое после ответа
  {
    id: "remark-3",
    course_id: "course-2",
    course_name: "Базы данных",
    theme_id: "theme-3",
    theme_title: "Практическая работа: SQL запросы",
    student_id: 102,
    student_name: "Сидорова Мария Викторовна",
    student_avatar: "",
    student_group: "ИС-21-2",
    teacher_id: 1,
    teacher_name: "Петров Сергей Михайлович",
    teacher_avatar: "",
    type: RemarkType.TEXT,
    status: RemarkStatus.REJECTED,
    messages: [
      {
        id: "msg-3-1",
        remark_id: "remark-3",
        sender_id: 1,
        sender_name: "Петров Сергей Михайлович",
        sender_avatar: "",
        sender_role: "teacher",
        message: "В вашем решении отсутствует оптимизация запросов. Используйте индексы и объясните выбор структуры таблиц.",
        attachments: [],
        created_at: new Date("2024-12-15T11:00:00"),
      },
      {
        id: "msg-3-2",
        remark_id: "remark-3",
        sender_id: 102,
        sender_name: "Сидорова Мария Викторовна",
        sender_avatar: "",
        sender_role: "student",
        message: "Добавила комментарии к коду с объяснением выбора структуры.",
        attachments: [],
        created_at: new Date("2024-12-16T10:00:00"),
      },
      {
        id: "msg-3-3",
        remark_id: "remark-3",
        sender_id: 1,
        sender_name: "Петров Сергей Михайлович",
        sender_avatar: "",
        sender_role: "teacher",
        message: "К сожалению, ответ недостаточно полный. Необходимо также продемонстрировать работу с индексами на практике. Добавьте примеры EXPLAIN для ваших запросов.",
        attachments: [],
        created_at: new Date("2024-12-16T14:00:00"),
      },
    ],
    created_at: new Date("2024-12-15T11:00:00"),
    updated_at: new Date("2024-12-16T14:00:00"),
  },

  // Замечание 4: Новое текстовое замечание
  {
    id: "remark-4",
    course_id: "course-1",
    course_name: "Основы программирования",
    theme_id: "theme-4",
    theme_title: "СРС: Рекурсия",
    student_id: 103,
    student_name: "Козлов Дмитрий Андреевич",
    student_avatar: "",
    student_group: "ИС-21-1",
    teacher_id: 1,
    teacher_name: "Петров Сергей Михайлович",
    teacher_avatar: "",
    type: RemarkType.TEXT,
    status: RemarkStatus.PENDING,
    messages: [
      {
        id: "msg-4-1",
        remark_id: "remark-4",
        sender_id: 1,
        sender_name: "Петров Сергей Михайлович",
        sender_avatar: "",
        sender_role: "teacher",
        message: "Работа не соответствует требованиям: отсутствует рекурсивное решение задачи о Ханойских башнях. Выполните это задание и прикрепите решение.",
        attachments: [],
        created_at: new Date("2024-12-24T08:00:00"),
      },
    ],
    created_at: new Date("2024-12-24T08:00:00"),
    updated_at: new Date("2024-12-24T08:00:00"),
  },

  // Замечание 5: К файлу, ожидает ответа
  {
    id: "remark-5",
    course_id: "course-3",
    course_name: "Веб-разработка",
    theme_id: "theme-5",
    theme_title: "Лабораторная работа: React Components",
    student_id: 101,
    student_name: "Иванов Александр Петрович",
    student_avatar: "",
    student_group: "ИС-21-1",
    teacher_id: 2,
    teacher_name: "Кузнецова Анна Игоревна",
    teacher_avatar: "",
    type: RemarkType.FILE,
    status: RemarkStatus.PENDING,
    original_file: {
      id: "file-orig-2",
      file_name: "App.tsx",
      file_url: "/files/App.tsx",
      file_size: 8192,
      uploaded_at: new Date("2024-12-22T16:00:00"),
    },
    messages: [
      {
        id: "msg-5-1",
        remark_id: "remark-5",
        sender_id: 2,
        sender_name: "Кузнецова Анна Игоревна",
        sender_avatar: "",
        sender_role: "teacher",
        message: "В компоненте App.tsx обнаружены проблемы с производительностью: отсутствует мемоизация, компоненты перерисовываются без необходимости. Используйте useMemo и useCallback для оптимизации.",
        attachments: [
          {
            id: "attach-5-1",
            file_name: "performance_report.pdf",
            file_url: "/files/performance_report.pdf",
            file_size: 156000,
            uploaded_at: new Date("2024-12-23T09:00:00"),
          },
        ],
        created_at: new Date("2024-12-23T09:00:00"),
      },
    ],
    created_at: new Date("2024-12-23T09:00:00"),
    updated_at: new Date("2024-12-23T09:00:00"),
  },
];

// Архивные замечания
export const mockArchivedRemarks: Remark[] = [
  {
    id: "remark-archived-1",
    course_id: "course-1",
    course_name: "Основы программирования",
    theme_id: "theme-0",
    theme_title: "Введение в курс",
    student_id: 101,
    student_name: "Иванов Александр Петрович",
    student_avatar: "",
    student_group: "ИС-21-1",
    teacher_id: 1,
    teacher_name: "Петров Сергей Михайлович",
    teacher_avatar: "",
    type: RemarkType.TEXT,
    status: RemarkStatus.APPROVED,
    messages: [
      {
        id: "msg-arch-1-1",
        remark_id: "remark-archived-1",
        sender_id: 1,
        sender_name: "Петров Сергей Михайлович",
        sender_avatar: "",
        sender_role: "teacher",
        message: "Необходимо добавить ссылки на использованные источники.",
        attachments: [],
        created_at: new Date("2024-12-01T10:00:00"),
      },
      {
        id: "msg-arch-1-2",
        remark_id: "remark-archived-1",
        sender_id: 101,
        sender_name: "Иванов Александр Петрович",
        sender_avatar: "",
        sender_role: "student",
        message: "Добавил список литературы в конец работы.",
        attachments: [],
        created_at: new Date("2024-12-02T14:00:00"),
      },
    ],
    created_at: new Date("2024-12-01T10:00:00"),
    updated_at: new Date("2024-12-02T14:00:00"),
    archived_at: new Date("2024-12-03T09:00:00"),
  },
  {
    id: "remark-archived-2",
    course_id: "course-2",
    course_name: "Базы данных",
    theme_id: "theme-db-1",
    theme_title: "ER-диаграммы",
    student_id: 102,
    student_name: "Сидорова Мария Викторовна",
    student_avatar: "",
    student_group: "ИС-21-2",
    teacher_id: 1,
    teacher_name: "Петров Сергей Михайлович",
    teacher_avatar: "",
    type: RemarkType.FILE,
    status: RemarkStatus.APPROVED,
    original_file: {
      id: "file-arch-1",
      file_name: "er_diagram.drawio",
      file_url: "/files/er_diagram.drawio",
      file_size: 24576,
      uploaded_at: new Date("2024-11-25T12:00:00"),
    },
    messages: [
      {
        id: "msg-arch-2-1",
        remark_id: "remark-archived-2",
        sender_id: 1,
        sender_name: "Петров Сергей Михайлович",
        sender_avatar: "",
        sender_role: "teacher",
        message: "В ER-диаграмме неправильно обозначены связи many-to-many. Исправьте на промежуточные таблицы.",
        attachments: [],
        created_at: new Date("2024-11-26T10:00:00"),
      },
      {
        id: "msg-arch-2-2",
        remark_id: "remark-archived-2",
        sender_id: 102,
        sender_name: "Сидорова Мария Викторовна",
        sender_avatar: "",
        sender_role: "student",
        message: "Исправила диаграмму, добавила промежуточные таблицы для связей many-to-many.",
        attachments: [
          {
            id: "attach-arch-2-1",
            file_name: "er_diagram_v2.drawio",
            file_url: "/files/er_diagram_v2.drawio",
            file_size: 28672,
            uploaded_at: new Date("2024-11-27T15:00:00"),
          },
        ],
        created_at: new Date("2024-11-27T15:00:00"),
      },
    ],
    created_at: new Date("2024-11-26T10:00:00"),
    updated_at: new Date("2024-11-27T15:00:00"),
    archived_at: new Date("2024-11-28T09:00:00"),
  },
  {
    id: "remark-archived-3",
    course_id: "course-3",
    course_name: "Веб-разработка",
    theme_id: "theme-web-1",
    theme_title: "HTML и CSS основы",
    student_id: 101,
    student_name: "Иванов Александр Петрович",
    student_avatar: "",
    student_group: "ИС-21-1",
    teacher_id: 2,
    teacher_name: "Кузнецова Анна Игоревна",
    teacher_avatar: "",
    type: RemarkType.TEXT,
    status: RemarkStatus.APPROVED,
    messages: [
      {
        id: "msg-arch-3-1",
        remark_id: "remark-archived-3",
        sender_id: 2,
        sender_name: "Кузнецова Анна Игоревна",
        sender_avatar: "",
        sender_role: "teacher",
        message: "Страница не адаптивна. Добавьте медиа-запросы для мобильных устройств.",
        attachments: [],
        created_at: new Date("2024-11-20T11:00:00"),
      },
      {
        id: "msg-arch-3-2",
        remark_id: "remark-archived-3",
        sender_id: 101,
        sender_name: "Иванов Александр Петрович",
        sender_avatar: "",
        sender_role: "student",
        message: "Добавил адаптивную вёрстку с использованием Flexbox и Grid.",
        attachments: [],
        created_at: new Date("2024-11-21T16:00:00"),
      },
    ],
    created_at: new Date("2024-11-20T11:00:00"),
    updated_at: new Date("2024-11-21T16:00:00"),
    archived_at: new Date("2024-11-22T10:00:00"),
  },
];

// Сводка по студентам для учителя
export const mockStudentSummaries: StudentRemarkSummary[] = [
  {
    student_id: 101,
    student_name: "Иванов Александр Петрович",
    student_avatar: "",
    student_group: "ИС-21-1",
    total_remarks: 3,
    pending_remarks: 2,
    responded_remarks: 1,
    courses: [
      { course_id: "course-1", course_name: "Основы программирования", remarks_count: 2 },
      { course_id: "course-3", course_name: "Веб-разработка", remarks_count: 1 },
    ],
  },
  {
    student_id: 102,
    student_name: "Сидорова Мария Викторовна",
    student_avatar: "",
    student_group: "ИС-21-2",
    total_remarks: 1,
    pending_remarks: 0,
    responded_remarks: 0,
    courses: [
      { course_id: "course-2", course_name: "Базы данных", remarks_count: 1 },
    ],
  },
  {
    student_id: 103,
    student_name: "Козлов Дмитрий Андреевич",
    student_avatar: "",
    student_group: "ИС-21-1",
    total_remarks: 1,
    pending_remarks: 1,
    responded_remarks: 0,
    courses: [
      { course_id: "course-1", course_name: "Основы программирования", remarks_count: 1 },
    ],
  },
];

// Тип для демонстрационного пользователя
export interface MockUser {
  id: number;
  name: string;
  role: "teacher" | "student";
  avatar: string;
}

// Текущий пользователь (для демонстрации ролей)
export const mockCurrentUser: MockUser = {
  id: 1,
  name: "Петров Сергей Михайлович",
  role: "teacher",
  avatar: "",
};

// Альтернативный пользователь-студент для тестирования
export const mockStudentUser: MockUser = {
  id: 101,
  name: "Иванов Александр Петрович",
  role: "student",
  avatar: "",
};
